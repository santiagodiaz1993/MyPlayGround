-------------------------------------------------------------------------------------------------- -----------------------------------------
 Exploit Title                                                                                    |  Path
                                                                                                  | (/opt/exploit-database/)
-------------------------------------------------------------------------------------------------- -----------------------------------------
[01;31m[KOpenNetAdmin[m[K 13.03.01 - Remote Code Execution                                                     | exploits/php/webapps/26682.txt
[01;31m[KOpenNetAdmin[m[K 18.1.1 - Command Injection Exploit (Metasploit)                                      | exploits/php/webapps/47772.rb
[01;31m[KOpenNetAdmin[m[K 18.1.1 - Remote Code Execution                                                       | exploits/php/webapps/47691.sh
-------------------------------------------------------------------------------------------------- -----------------------------------------
Shellcodes: No Results


#############################################  NOTES ######################################################################


information encountered:
The server is a OpenNetAdministration server running version v18.1.1
The server is also running Xajax java library version 0.2.4 

We have the name and email of the developers:
Jered White (jared@intuitivefuture.com)
J. Max Wilson (jmaxwilson@users.sourceforge.com)
Eion Robb (eion@bigfood.com)

Notes on what is found in all of the directoreis and files:
config: Nothing
config_dnld.php: Nothing
dcm.php: Nothing
images: Nothing
include: 
	bignumber.js incudesa name: Jonas Raoni Soares Silva 
	gloabal.js WARNING: This file has certain java functions turned off. This is just for laziness. Nothing very useful, 
just the back button warnning function not implemented.
index.php: Nothing
local: Nothing
login.php: Nothing
logout.php: Nothing
modules: Nothing
plugins
	plugins contains a script that might be able to be ran. I would have to investigate further. Its a cron job for nmap
winc: Nothing
workspace_plugins: Nothin

Vulnerabilities:
Used this exploit to access RCE access
https://www.exploit-db.com/exploits/47691

This exploit allowed me to reverse shell into the machine:
https://github.com/pentestmonkey/php-reverse-shell

It seems like there is 2 XSS vulenerabilities in this version of Xajax:
https://www.cvedetails.com/vulnerability-list/vendor_id-6657/product_id-11222/version_id-44814/opxss-1/Xajax-Xajax-0.2.4.html

This seems like is pointing to a privilege escalation with CXX:
https://exchange.xforce.ibmcloud.com/vulnerabilities/34323

came accross this list after leaving the page opened for a while:
.htaccess
15-redis-post-exploitation.pdf
47691.sh
E4E.ovpn
enum.txt
Kali Linux - An Ethical Hacker's Cookbook.pdf
LinEnum/
LinEnum.sh
miniservrce.rb
redis_ce.rb
s.sh
shell/


output from cat /etc/passwd

root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
systemd-network:x:100:102:systemd Network Management,,,:/run/systemd/netif:/usr/sbin/nologin
systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd/resolve:/usr/sbin/nologin
syslog:x:102:106::/home/syslog:/usr/sbin/nologin
messagebus:x:103:107::/nonexistent:/usr/sbin/nologin
_apt:x:104:65534::/nonexistent:/usr/sbin/nologin
lxd:x:105:65534::/var/lib/lxd/:/bin/false
uuidd:x:106:110::/run/uuidd:/usr/sbin/nologin
dnsmasq:x:107:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin
landscape:x:108:112::/var/lib/landscape:/usr/sbin/nologin
pollinate:x:109:1::/var/cache/pollinate:/bin/false
sshd:x:110:65534::/run/sshd:/usr/sbin/nologin
jimmy:x:1000:1000:jimmy:/home/jimmy:/bin/bash
mysql:x:111:114:MySQL Server,,,:/nonexistent:/bin/false
joanna:x:1001:1001:,,,:/home/joanna:/bin/bash


output to whoami:
www-data

NOTE: I did not try to execute the php files we have access to. NEXT time try to discover what we have permissions and we do not have
permission to.

Now that we have full access to the shell I am looking for an exploit to escalate my privilates:
https://www.exploit-db.com/exploits/47167 (sh script)
https://www.exploit-db.com/exploits/47163 (c exploit)

I think I found the exploit. It uses PHP. 
https://github.com/cfreal/exploits/tree/master/CVE-2019-0211-apache


GOOD GENERAL INFORMATION FOR PRIVILAGE ESCALATION IN LINUX:
https://payatu.com/guide-linux-privilege-escalation

According to the guide on what information to look for in the enumeration process, I am going to try to answer every question:
Website: https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/

[IMPORTANT - PRIVILEGE ESCALATION FRAMEOWORK] - This is the general framework:
Collect - Enumeration, more enumeration and some more enumeration.
Process - Sort through data, analyse and prioritisation.
Search - Know what to search for and where to find the exploit code.
Adapt - Customize the exploit, so it fits. Not every exploit work for every system "out of the box".
Try - Get ready for (lots of) trial and error.


More detail questions to answer:
What's the distribution type? What version?

What's the kernel version? Is it 64-bit?
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=18.04
DISTRIB_CODENAME=bionic
DISTRIB_DESCRIPTION="Ubuntu 18.04.3 LTS"
NAME="Ubuntu"
VERSION="18.04.3 LTS (Bionic Beaver)"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 18.04.3 LTS"
VERSION_ID="18.04"
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
VERSION_CODENAME=bionic
UBUNTU_CODENAME=bionic

I was able to get into the machine through ssh by trying a password with every username.
Once I ssh now I am lookning for ways to escalate my permissions to root. 

Right now I am looking at all open ports. There is a port that is not very commonly opened. 
I am inverstigating what process is using this port.






